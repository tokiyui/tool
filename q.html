<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wave image embed</title>
  <style>
    :root{--bg:#0b1020;--card:#0f1724;--accent:#60a5fa}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Hiragino Kaku Gothic ProN','Noto Sans JP',sans-serif;background:var(--bg);color:#e6eef8;display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0;padding:1rem}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:12px;padding:18px;max-width:980px;width:100%;box-shadow:0 10px 30px rgba(2,6,23,0.6)}
    figure{margin:0}
    .meta{display:flex;gap:10px;align-items:center;margin-bottom:8px}
    .title{font-weight:600;font-size:1rem}
    .sub{font-size:0.85rem;color:#a8c0ea}
    .imgwrap{position:relative;border-radius:8px;overflow:hidden;background:#081224}
    img{display:block;width:100%;height:auto;max-height:70vh;object-fit:contain}
    .controls{display:flex;gap:8px;margin-top:10px}
    button{background:transparent;border:1px solid rgba(255,255,255,0.08);color:inherit;padding:8px 10px;border-radius:8px;cursor:pointer}
    button:hover{border-color:var(--accent)}
    .download{display:inline-flex;gap:8px;align-items:center}
    /* simple lightbox */
    .lightbox{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.8);z-index:60}
    .lightbox img{max-width:95%;max-height:95%;box-shadow:0 20px 50px rgba(2,6,23,0.7);border-radius:6px}
    .caption{margin-top:8px;font-size:0.85rem;color:#bcd7ff}
    .notice{font-size:0.8rem;color:#9fb0d9;margin-top:8px}
    @media (max-width:640px){.card{padding:12px}}
  </style>
</head>
<body>
  <main class="card">
    <figure>
      <div class="meta">
        <div class="title">GFS wave (embedded)</div>
        <div class="sub">Source: meteologix — image file embedded via direct URL</div>
      </div>

      <div class="imgwrap">
        <img id="waveImg" src="https://img5.meteologix.com/images/data/cache/wave/wave_modwavegfs_2025102200_12_5731_296.png"
             alt="GFS wave map 2025-10-22 00Z"
             loading="lazy" decoding="async" />
      </div>

      <figcaption class="caption">ファイル名: <code>wave_modwavegfs_2025102200_9_5731_296.png</code></figcaption>

      <div class="controls">
        <button id="openLightbox">拡大表示</button>
        <a id="downloadLink" class="download" href="https://img5.meteologix.com/images/data/cache/wave/wave_modwavegfs_2025102200_9_5731_296.png" download>
          <button type="button">ダウンロード</button>
        </a>
        <button id="copyUrl">画像URLをコピー</button>
        <button id="openTab">新しいタブで開く</button>
      </div>

      <p class="notice">注意: 外部ホスティング先のポリシーにより表示されない場合があります。表示されない時は画像URLを新しいタブで開いてください。</p>
    </figure>
  </main>

  <div id="lightbox" class="lightbox" role="dialog" aria-hidden="true">
    <img id="lightboxImg" alt="GFS wave large view" />
  </div>

  <script>
    const imgSrc = document.getElementById('waveImg').src;
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lightboxImg');
    document.getElementById('openLightbox').addEventListener('click', ()=>{
      lbImg.src = imgSrc; lb.style.display = 'flex'; lb.setAttribute('aria-hidden','false');
    });
    lb.addEventListener('click', ()=>{ lb.style.display = 'none'; lb.setAttribute('aria-hidden','true'); lbImg.src = '' });

    document.getElementById('copyUrl').addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(imgSrc);
        alert('画像URLをコピーしました');
      }catch(e){
        prompt('以下のURLをコピーしてください', imgSrc);
      }
    });
    document.getElementById('openTab').addEventListener('click', ()=>{
      window.open(imgSrc,'_blank');
    });
  </script>
</body>
</html>
